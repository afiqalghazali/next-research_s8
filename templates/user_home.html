<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Detection Object</title>
		<link
			href="{{url_for('static', filename='css/output.css')}}"
			rel="stylesheet" />
		<link
			href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
			rel="stylesheet" />
	</head>
	<body class="flex flex-col h-dvh">
		<!-- Navbar -->
		<nav class="fixed h-16 top-0 z-50 w-full border-b border-gray-300 bg-white">
			<div class="px-3 py-3 lg:px-5 lg:pl-3">
				<div class="flex items-center justify-between">
					<!-- Open Sidebar -->
					<div class="flex items-center">
						<button
							data-drawer-target="logo-sidebar"
							data-drawer-toggle="logo-sidebar"
							aria-controls="logo-sidebar"
							type="button"
							class="inline-flex items-center p-2 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200">
							<span class="sr-only">Open sidebar</span>
							<svg
								xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 24 24"
								fill="currentColor"
								class="size-6">
								<path
									fill-rule="evenodd"
									d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z"
									clip-rule="evenodd" />
							</svg>
						</button>

						<!-- Logo -->
						<div class="flex flex-1 items-center justify-center sm:hidden">
							<span class="flex items-center m-2">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									viewBox="0 0 24 24"
									fill="currentColor"
									class="size-6 text-blue-600">
									<path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
									<path
										fill-rule="evenodd"
										d="M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z"
										clip-rule="evenodd" />
								</svg>
							</span>
						</div>
					</div>

					<!-- Dropdown -->
					<div class="relative inline-block text-left">
						<!-- Button Dropdown -->
						<button
							type="button"
							class="flex text-sm bg-white border border-gray-200 rounded-full focus:ring-4 focus:ring-gray-300"
							id="user-menu-button"
							aria-expanded="false">
							<span class="sr-only">Open user menu</span>
							<svg
								xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 24 24"
								fill="currentColor"
								class="w-8 h-8">
								<path
									fill-rule="evenodd"
									d="M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z"
									clip-rule="evenodd" />
							</svg>
						</button>

						<!-- Menu Dropdown -->
						<div
							class="absolute right-0 hidden my-4 w-40 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow-sm"
							id="user-dropdown">
							<div class="px-4 py-3">
								<span class="block text-sm text-gray-900">{{ user.nama }}</span>
								<span class="block text-sm text-gray-500 capitalize"
									>{{ user.role }}</span
								>
							</div>
							<ul class="py-2" aria-labelledby="user-menu-button">
								<li>
									<a
										href="{{ url_for('index') }}"
										class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100"
										>Keluar</a
									>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</nav>

		<aside
			id="logo-sidebar"
			class="fixed border-r border-gray-300 px-3 overflow-y-auto pb-4 top-0 left-0 z-40 sm:z-60 w-64 h-screen pt-2 transition-transform -translate-x-full bg-white sm:translate-x-0 shadow-xl"
			aria-label="Sidebar">
			<span class="flex items-center gap-2 invisible m-2 sm:visible">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 24 24"
					fill="currentColor"
					class="size-10 text-blue-600">
					<path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
					<path
						fill-rule="evenodd"
						d="M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z"
						clip-rule="evenodd" />
				</svg>
				<span class="text-blue-900 font-bold text-2xl">Detect</span>
			</span>
			<ul class="space-y-2 font-medium pt-4">
				<li>
					<a href="#" class="sidebar-btn group sidebar-active">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 24 24"
							fill="currentColor"
							class="sidebar-btn-icon">
							<path
								d="M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z" />
							<path
								d="m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z" />
						</svg>
						<span class="sidebar-btn-text">Beranda</span>
					</a>
				</li>
			</ul>
		</aside>

		<div class="h-auto p-8 mt-16 sm:ml-64 bg-gray-50">
			<!-- User Data -->
			<div class="max-w-4xl mx-auto p-8 mt-4 shadow-lg rounded-lg bg-white">
				<div id="step1" class="registration-step">
					<h1 class="card-header text-2xl mb-8">Informasi Personal</h1>

					<div class="mb-4">
						<label
							for="identityNumber"
							class="block text-sm font-medium text-gray-700 mb-2"
							>NIM/NIP/NRP</label
						>
						<input
							type="number"
							id="identityNumber"
							name="identityNumber"
							value="{{ user.id }}"
							class="input-fields [appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none"
							required
							disabled />
					</div>

					<div class="mb-4">
						<label
							for="name"
							class="block text-sm font-medium text-gray-700 mb-2"
							>Nama
						</label>
						<input
							type="text"
							id="name"
							name="name"
							value="{{ user.nama }}"
							class="input-fields"
							required
							disabled />
					</div>

					<div class="mb-4">
						<label
							for="unit"
							class="block text-sm/6 font-medium text-gray-700 mb-2"
							>Unit Kerja</label
						>
						<div class="w-full block">
							<select
								id="unit"
								name="unit"
								class="select2-fields"
								required
								disabled>
								<option value="{{ user.unitKerja }}">
									{{ user.unitKerja }}
								</option>
							</select>
						</div>
					</div>
					<form
						method="POST"
						action="{{ url_for('router.user_home', id=user.id) }}">
						<div class="mb-4">
							<div class="mb-4">
								<label
									for="name"
									class="block text-sm font-medium text-gray-700 mb-2"
									>Ubah Password
								</label>
								<input
									type="text"
									id="newPassword"
									name="newPassword"
									class="input-fields"
									placeholder="Masukkan password baru anda" />
							</div>
							<button
								type="submit"
								class="bg-blue-600 text-white px-6 py-2 rounded-md cursor-pointer hover:bg-blue-700">
								Ubah
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.js"></script>
		<script src="{{url_for('static', filename='js/navbar.js')}}"></script>
		<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
		<script>
			const CONFIG = {
				units: [
					"Prodi Ilmu Komputer",
					"Prodi Matematika",
					"Prodi Pendidikan Matematika",
					"Prodi Matematika Bilingual",
				],
			};

			$(document).ready(function () {
				function initializeUnitDropdown() {
					const $unitSelect = $("#unit");
					CONFIG.units.forEach((unit) => {
						$unitSelect.append(`<option value="${unit}">${unit}</option>`);
					});

					$(".select2-fields").select2({
						placeholder: "Masukkan Unit Kerja/Prodi",
						allowClear: true,
						minimumResultsForSearch: 0,
					});
				}

				initializeUnitDropdown();
			});
		</script>
	</body>
</html>
